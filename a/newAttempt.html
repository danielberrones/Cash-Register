<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]>      <html class="no-js"> <!--<![endif]-->
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>js</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="">
        <style>
            body{
                background-color: black;
            }
        </style>
    </head>
    <body>
<script>

function cashReg(price,cash,cid) {
    let result = [];
    let cashValues = {  "ONE HUNDRED":100,
                        "TWENTY":20,
                        "TEN":10,
                        "FIVE":5,
                        "ONE":1,
                        "QUARTER":.25,
                        "DIME":.10,
                        "NICKEL":.05,
                        "PENNY":.01   }
    cid.reverse();
    let change = cash - price;
    let customerHasEnoughMoney = cash > price;
    let cidSum = 0;
    for (let cash of cid) {
        cidSum += cash[1];
    }
    let adjSum = parseFloat(cidSum).toFixed(2);
    let cidHasEnoughMoney = adjSum > change;
    let newSum = adjSum - change;
    newCidSum = parseFloat(newSum).toFixed(2);

    console.log(` price ${price} \n cash ${cash} \n change ${change} \n adjSum ${adjSum} \n customerHasEnoughMoney ${customerHasEnoughMoney} \n cidHasEnoughMoney ${cidHasEnoughMoney} \n newCidSum ${newCidSum} \n `);

    // price 3.26 
    // cash 100 
    // change 96.74 
    // adjSum 335.41 
    // customerHasEnoughMoney true 
    // cidHasEnoughMoney true 
    // newCidSum 238.67 
    console.log('current cid');
    for (let i of cid) {
        console.log(i);
    }
    console.log('')
    console.log('')
    // ['ONE HUNDRED', 100]
    // ['TWENTY', 60]
    // ['TEN', 20]
    // ['FIVE', 55]
    // ['ONE', 90]
    // ['QUARTER', 4.25]
    // ['DIME', 3.1]
    // ['NICKEL', 2.05]
    // ['PENNY', 1.01]
    // console.log('split');
    // console.log(`change: ${change}`); //3

    console.log('*returning change*');
    var passingValue = 0;
    for (let i of cid) {
        if (passingValue < change) {

            if (i[0] == 'ONE HUNDRED') {
                for (let j = 0; j < i[1]; j += 100) {
                    passingValue += j;
                    if (passingValue > change) {
                        console.log(`passingValue: ${passingValue}`); //3
                        console.log(`change: ${change}`); //3

                        break;
                    }
                }
            } // END ONE HUNDRED
            
            if (i[0] == 'TWENTY') {
                for (let j = 0; j < i[1]; j += 20) {
                    passingValue += j;
                    if (passingValue > change) {
                        console.log(`passingValue: ${passingValue}`); //3
                        console.log(`change: ${change}`); //3
                        break;
                    }
                }
            } // END TWENTY
            
            if (i[0] == 'TEN') {
                for (let j = 0; j < i[1]; j += 10) {
                    passingValue += j;
                    if (passingValue > change) {
                        console.log(`passingValue: ${passingValue}`); //3
                        console.log(`change: ${change}`); //3
                        break;
                    }
                }
            } // END TEN

            if (i[0] == 'FIVE') {
                for (let j = 0; j < i[1]; j += 5) {
                    passingValue += j;
                    if (passingValue > change) {
                        console.log(`passingValue: ${passingValue}`); //3
                        console.log(`change: ${change}`); //3
                        break;
                    }
                }
            } // END FIVE

        }
        
    }
    console.log(`passingValue: ${passingValue}`); //3
    // console.log(`passingValue: ${passingValue}`); //3
    // console.log(passingValue);
    return '';
}



console.log(cashReg(3.26, 100, [["PENNY", 1.01], ["NICKEL", 2.05], ["DIME", 3.1], ["QUARTER", 4.25], ["ONE", 90], ["FIVE", 55], ["TEN", 20], ["TWENTY", 60], ["ONE HUNDRED", 100]]));
// should return {status: "OPEN", change: [["TWENTY", 60], ["TEN", 20], ["FIVE", 15], ["ONE", 1], ["QUARTER", 0.5], ["DIME", 0.2], ["PENNY", 0.04]]}.


// console.log(cashReg(109.5, 200, [["PENNY", 1.51], ["NICKEL", 2.05], ["DIME", 3.1], ["QUARTER", 45.25], ["ONE", 92], ["FIVE", 65], ["TEN", 220], ["TWENTY", 20], ["ONE HUNDRED", 0]]));

</script>


    </body>
</html>
